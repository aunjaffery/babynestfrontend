(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{685:function(e,a,t){"use strict";t.r(a);var l=t(26),n=t(27),r=t(42),d=t(43),i=t(28),c=t(6),s=t.n(c),m=t(667),o=t(524),h=t(691),g=t(525),u=t(11),p=t.n(u),b=t(2),E=t(3),C=t.n(E);function f(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,l=Object(i.a)(e);if(a){var n=Object(i.a)(this).constructor;t=Reflect.construct(l,arguments,n)}else t=l.apply(this,arguments);return Object(d.a)(this,t)}}var v=function(e){Object(r.a)(t,e);var a=f(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).handleChildFieldChange=function(e){var a=n.state.newChild;switch(e.target.name){case"child_name":a.child_name=e.target.value,console.log("Child Name :: "+a.child_name);break;case"child_gender":a.child_gender=e.target.value,console.log("Child Gender :: "+a.child_gender);break;case"child_dob":a.child_dob=e.target.value,console.log("Child DOB :: "+a.child_dob);break;default:return}n.setState({newChild:a})},n.handleOpenForm=function(e){var a=e.target.id;console.log("EVENT :: "+a),n.setState({childForm:!n.state.childForm,keyForm:a})},n.handleUpdateChild=function(e){var a=n.state.userChild,t=e.target.name.split("^")[0],l=e.target.name.split("^")[1];console.log("Name :: "+l),a.map(function(a){if(a.id==t)switch(l){case"child-name":a.name=e.target.value;break;case"dob":a.dob=e.target.value;break;case"child-gender":a.gender=e.target.value;break;case"image":a.image=e.target.files[0],console.log("Image :: "+a.image.name)}}),n.setState({userChild:a})},n.handleChildPhoto=function(e){n.setState({image:e.target.files[0],msg:"Photo selected, Press save to upload"})},n.handleSubmit=function(e){var a=new FormData;if(e.target.getAttribute("dataID")){console.log("selected child ID :: "+e.target.getAttribute("dataID"));var t=e.target.getAttribute("dataID"),l=C.a.find(n.state.userChild,function(e){return e.id===t});a.append("child_id",l.id),a.append("name",l.name),a.append("gender",l.gender),a.append("dob",l.dob),"string"!==typeof l.image&&a.append("image",l.image),n.props.submitChild(a,"UPDATE")}else console.log("This is new child "),localStorage.getItem("jwtToken")&&a.append("parent_id",p()(localStorage.getItem("jwtToken")).cust_id),a.append("name",n.state.newChild.child_name),a.append("gender",n.state.newChild.child_gender),a.append("dob",n.state.newChild.child_dob),a.append("image",n.state.image),n.props.submitChild(a,"ADD");n.setState({keyForm:null,childForm:!1,newChild:{child_name:"",child_gender:"",child_dob:""},image:"",msg:""})},n.handleDelete=function(e){var a=e.target.getAttribute("dataID");n.props.submitChild(a,"DELETE")},n.state={childForm:!1,addChild:!1,msg:"",keyForm:null,newChild:{child_name:"",child_gender:"",child_dob:""},userChild:[]},n}return Object(n.a)(t,[{key:"render",value:function(){var e=this;return this.props.children&&console.log("PROPS :: "+JSON.stringify(this.state.userChild)),s.a.createElement("div",{id:"child"},s.a.createElement("div",{className:"head"},"Child Details",this.state.userChild&&this.state.userChild.length>0?s.a.createElement("span",{onClick:function(){e.props.toggleForm()}},"+ Add Another child"):""),this.state.userChild&&!this.state.userChild.length>0&&s.a.createElement("div",{className:"note show"},"Please enter your child details so that we can help in choosing the best products for your child "),s.a.createElement(m.a,{className:!0===this.state.addChild?"mr-3 ml-3 border-bottom add-child show":"mr-3 ml-3 border-bottom add-child hide"},s.a.createElement(o.a,{md:7,className:"p-0"},s.a.createElement(h.a,null,s.a.createElement(h.a.Group,{as:m.a,controlId:"child-name",className:"mb-4"},s.a.createElement(h.a.Label,{column:!0,sm:2},"Name:"),s.a.createElement(o.a,{sm:10},s.a.createElement(h.a.Control,{type:"text",name:"child_name",placeholder:"Name",value:this.state.newChild.child_name,onChange:this.handleChildFieldChange}))),s.a.createElement(h.a.Group,{as:m.a,controlId:"dob",className:"mb-4"},s.a.createElement(h.a.Label,{column:!0,sm:2,className:"pr-0"},"Date of Birth:"),s.a.createElement(o.a,{sm:7},s.a.createElement(h.a.Control,{type:"date",name:"child_dob",value:this.state.newChild.child_dob,onChange:this.handleChildFieldChange}),s.a.createElement("img",{className:"calender-icon",src:"/assets/images/calender-icon.png",alt:""}))),s.a.createElement(h.a.Group,{as:m.a,className:"gender",controlId:"gender"},s.a.createElement(h.a.Label,{column:!0,sm:2},"Gender:"),s.a.createElement(o.a,{sm:8},s.a.createElement(h.a.Group,{as:m.a,onChange:this.handleChildFieldChange},s.a.createElement(o.a,{sm:5},"Male"===this.state.newChild.child_gender?s.a.createElement(h.a.Check,{type:"radio",label:"Boy",name:"child_gender",value:"Male",checked:!0,id:"formHorizontalRadios5"}):s.a.createElement(h.a.Check,{type:"radio",label:"Boy",name:"child_gender",value:"Male",id:"formHorizontalRadios5"})),s.a.createElement(o.a,{sm:5},"Female"===this.state.newChild.child_gender?s.a.createElement(h.a.Check,{type:"radio",label:"Girl",name:"child_gender",value:"Female",checked:!0,id:"formHorizontalRadios6"}):s.a.createElement(h.a.Check,{type:"radio",label:"Girl",name:"child_gender",value:"Female",id:"formHorizontalRadios6"})),s.a.createElement("p",{style:{color:"".concat(this.state.variant)}},this.state.childMsg),s.a.createElement(o.a,{sm:12},s.a.createElement(g.a,{className:"btn-submit",dataID:"",onClick:this.handleSubmit},"Save"))))))),s.a.createElement(o.a,{md:5,className:"p-0"},s.a.createElement("div",{className:"text-left"},s.a.createElement("div",{className:"image-container"},s.a.createElement("img",{src:"/assets/images/boy-placeholder.png",alt:""})),s.a.createElement("div",{className:"upload-btn-wrapper show"},s.a.createElement("button",{className:"btn-upload"},"Upload Photo"),s.a.createElement("p",null,this.state.msg),s.a.createElement("input",{onChange:this.handleChildPhoto,type:"file",name:"image"}))))),this.state.userChild&&this.state.userChild.length>0&&this.state.userChild.map(function(a,t){return s.a.createElement(m.a,{className:"mr-3 ml-3 border-bottom",key:t},s.a.createElement(o.a,{md:7,className:"p-0"},s.a.createElement("div",{className:!0===e.state.childForm&&t==e.state.keyForm?"form show":"form hide"},s.a.createElement(h.a,{id:a.id},s.a.createElement(h.a.Group,{as:m.a,controlId:"child-name",className:"mb-4"},s.a.createElement(h.a.Label,{column:!0,sm:2},"Name:"),s.a.createElement(o.a,{sm:10},s.a.createElement(h.a.Control,{type:"text",name:a.id+"^child-name",onChange:e.handleUpdateChild,value:a.name}))),s.a.createElement(h.a.Group,{as:m.a,controlId:"dob",className:"mb-4"},s.a.createElement(h.a.Label,{column:!0,sm:2,className:"pr-0"},"Date of Birth:"),s.a.createElement(o.a,{sm:7},s.a.createElement(h.a.Control,{type:"date",name:a.id+"^dob",onChange:e.handleUpdateChild,value:a.dob}),s.a.createElement("img",{className:"calender-icon",src:"/assets/images/calender-icon.png",alt:""}))),s.a.createElement(h.a.Group,{as:m.a,className:"gender",controlId:"gender"},s.a.createElement(h.a.Label,{column:!0,sm:2},"Gender:"),s.a.createElement(o.a,{sm:8},s.a.createElement(h.a.Group,{as:m.a,onChange:e.handleUpdateChild},s.a.createElement(o.a,{sm:5},"Male"===a.gender?s.a.createElement(h.a.Check,{type:"radio",label:"Boy",name:a.id+"^child-gender",value:"Male",checked:!0,id:"formHorizontalRadios5"}):s.a.createElement(h.a.Check,{type:"radio",label:"Boy",name:a.id+"^child-gender",value:"Male",id:"formHorizontalRadios5"})),s.a.createElement(o.a,{sm:5},"Female"===a.gender?s.a.createElement(h.a.Check,{type:"radio",label:"Girl",name:a.id+"^child-gender",value:"Female",checked:!0,id:"formHorizontalRadios6"}):s.a.createElement(h.a.Check,{type:"radio",label:"Girl",name:a.id+"^child-gender",value:"Female",id:"formHorizontalRadios6"})),s.a.createElement(o.a,{sm:12},s.a.createElement(g.a,{className:"btn-submit",dataID:a.id,onClick:e.handleSubmit},"Save"))))))),s.a.createElement("div",{className:!0===e.state.childForm&&t==e.state.keyForm?"child-list hide":"child-list show"},s.a.createElement("div",null,s.a.createElement("span",{className:"name"},a.name),s.a.createElement("span",{className:"dob"},s.a.createElement("span",null,"Date of Birth: ")," ",a.dob," "),s.a.createElement("span",{className:"gender"},s.a.createElement("span",null,"Gender ")," ",a.gender," ")))),s.a.createElement(o.a,{md:5,className:"p-0"},s.a.createElement("div",{className:"text-left"},s.a.createElement("div",{className:"image-container"},s.a.createElement("img",{width:"100%",height:"100%",src:a.image?"".concat(b.a).concat(a.image):"/assets/images/boy-placeholder.png",alt:""}),s.a.createElement("span",{id:t,onClick:e.handleOpenForm,className:!0===e.state.childForm&&t==e.state.keyForm?"bg-edit hide":"bg-edit show"}),s.a.createElement("span",{dataID:a.id,onClick:e.handleDelete,className:!0===e.state.childForm&&t==e.state.keyForm?"bg-del hide":"bg-del show"})),s.a.createElement("div",{className:!0===e.state.childForm&&t==e.state.keyForm?"upload-btn-wrapper show":"upload-btn-wrapper hide"},s.a.createElement("button",{className:"btn-upload"},"Upload Photo"),s.a.createElement("p",null,e.state.msg),s.a.createElement("input",{onChange:e.handleUpdateChild,type:"file",name:a.id+"^image"})))))}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.children&&e.children.length,{userChild:e.children,childMsg:e.childMsg,variant:e.variant,addChild:e.addChildForm}}}]),t}(c.Component);a.default=v}}]);
//# sourceMappingURL=28.6443531b.chunk.js.map